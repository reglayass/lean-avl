All lemmas based on rotation assume that a tree \lstinline{t} is ordered, and conclude that \lstinline{t} remains ordered after a rotation. Since AVL trees are based on BSTs, and BSTs must be ordered, a rotation cannot violate this.

\begin{lstlisting}
lemma rotate_right_ordered (t : btree α) :
  ordered t → ordered (rotate_right t) := ...
\end{lstlisting}

Since \lstinline{rotate_right} and \lstinline{rotate_left} are compound rotations, lemmas for simple rotations must be constructed too. 

\begin{lstlisting}
lemma simple_right_ordered (t : btree α) :
  ordered t → ordered (simple_right t) := ...

lemma simple_left_ordered (t : btree α) :
  ordered t → ordered (simple_left t) := ...
\end{lstlisting}

All of the above proofs were done by case splits on the tree \lstinline{t}. Induction hypothesis are not needed since the rotation definitions are not recursive. 

A lemma for the transitivity of \lstinline{forall_keys} is written, and is applied in both the lemmas for compound rotations and simple rotations.

\begin{lstlisting}
lemma forall_keys_trans (t : btree α) (p : nat → nat → Prop) 
(z x : nat) (h₁ : p x z) (h₂ : ∀ a b c, p a b → p b c → p a c) :
  forall_keys p z t → forall_keys p x t := ...
\end{lstlisting}

During a rotation, the placement of a key may change but its relation to its ancestor and its children does not change. In this situation, \lstinline{forall_keys_trans} is applied. 